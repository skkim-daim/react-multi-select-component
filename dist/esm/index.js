var Fe=Object.defineProperty,Le=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var ie=(e,t,r)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))We.call(t,r)&&ie(e,r,t[r]);if(ae)for(var r of ae(t))Re.call(t,r)&&ie(e,r,t[r]);return e},ce=(e,t)=>Le(e,Ke(t));function $(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}$(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #e9edf2;--rmsc-selected: #e2e6ea;--rmsc-over-hover: #d4d8dd;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px;height:100%;width:100%}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-container{display:flex;flex-direction:column;position:relative;height:100%;width:100%;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;flex:0 0 var(--rmsc-h);cursor:default;outline:0;border-bottom:1px solid var(--rmsc-border)}.rmsc .dropdown-content{flex:1 1 auto;display:flex;flex-direction:column;overflow:auto}.rmsc .dropdown-content .panel-content{height:100%;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);display:flex;flex-direction:column}.rmsc .dropdown-content .panel-content .select-panel{display:flex;flex-direction:column;height:100%}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{flex:1 1 auto;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline:0}.rmsc .select-item:hover,.rmsc .select-item:focus{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .select-item.selected:hover,.rmsc .select-item.selected:focus{background:var(--rmsc-over-hover)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;flex:0 0 39px;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);import ee from"react";import j,{useEffect as _e,useState as He}from"react";var Be={allItemsAreSelected:"\uC804\uCCB4 \uC120\uD0DD\uB428",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"\uC120\uD0DD\uD560 \uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",search:"\uCC3E\uAE30",selectAll:"\uC804\uCCB4 \uC120\uD0DD",selectAllFiltered:"\uC804\uCCB4 \uC120\uD0DD (\uD544\uD130\uB9C1 \uC801\uC6A9)",selectSomeItems:"\uC120\uD0DD\uD558\uC138\uC694",create:"Create"},Ue={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[],defaultIsOpen:!0},de=j.createContext({}),me=({props:e,children:t})=>{let[r,o]=He(e.options),m=a=>{var c;return((c=e.overrideStrings)==null?void 0:c[a])||Be[a]};return _e(()=>{o(e.options)},[e.options]),j.createElement(de.Provider,{value:ce(V(V({t:m},Ue),e),{options:r,setOptions:o})},t)},w=()=>j.useContext(de);import y,{useEffect as Ee,useRef as et,useState as X}from"react";import{useEffect as Ve,useRef as $e}from"react";function pe(e,t){let r=$e(!1);Ve(()=>{r.current?e():r.current=!0},t)}import{useCallback as je,useEffect as ue,useMemo as Ye,useRef as qe}from"react";var ze={when:!0,eventTypes:["keydown"]};function k(e,t,r){let o=Ye(()=>Array.isArray(e)?e:[e],[e]),m=Object.assign({},ze,r),{when:a,eventTypes:c}=m,h=qe(t),{target:s}=m;ue(()=>{h.current=t});let p=je(l=>{o.some(i=>l.key===i||l.code===i)&&h.current(l)},[o]);ue(()=>{if(a&&typeof window<"u"){let l=s?s.current:window;return c.forEach(i=>{l&&l.addEventListener(i,p)}),()=>{c.forEach(i=>{l&&l.removeEventListener(i,p)})}}},[a,c,o,s,t])}var u={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};import x,{useCallback as Ze,useEffect as z,useMemo as xe,useRef as G,useState as R}from"react";var fe=(e,t)=>{let r;return function(...o){clearTimeout(r),r=setTimeout(()=>{e.apply(null,o)},t)}};function he(e,t){return t?e.filter(({label:r,value:o})=>r!=null&&o!=null&&r.toLowerCase().includes(t.toLowerCase())):e}import Y from"react";var K=()=>Y.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));import ge,{useRef as Je}from"react";import q from"react";var Ge=({checked:e,option:t,onClick:r,disabled:o})=>q.createElement("div",{className:`item-renderer ${o&&"disabled"}`},q.createElement("input",{type:"checkbox",onChange:r,checked:e,tabIndex:-1,disabled:o}),q.createElement("span",null,t.label)),be=Ge;var Qe=({itemRenderer:e=be,option:t,checked:r,tabIndex:o,disabled:m,onSelectionChanged:a,onClick:c})=>{let h=Je(),s=i=>{p(),i.preventDefault()},p=()=>{m||a(!r)},l=i=>{p(),c(i)};return k([u.ENTER,u.SPACE],s,{target:h}),ge.createElement("label",{className:`select-item ${r&&"selected"}`,role:"option","aria-selected":r,tabIndex:o,ref:h},ge.createElement(e,{option:t,checked:r,onClick:l,disabled:m}))},T=Qe;import W from"react";var Xe=({options:e,onClick:t,skipIndex:r})=>{let{disabled:o,value:m,onChange:a,ItemRenderer:c}=w(),h=(s,p)=>{o||a(p?[...m,s]:m.filter(l=>l.value!==s.value))};return W.createElement(W.Fragment,null,e.map((s,p)=>{let l=p+r;return W.createElement("li",{key:(s==null?void 0:s.key)||p},W.createElement(T,{tabIndex:l,option:s,onSelectionChanged:i=>h(s,i),checked:!!m.find(i=>i.value===s.value),onClick:i=>t(i,l),itemRenderer:c,disabled:s.disabled||o}))}))},ve=Xe;var ye=({isSelectAll:e})=>{let{t,onChange:r,options:o,setOptions:m,value:a,filterOptions:c,ItemRenderer:h,disabled:s,disableSearch:p,hasSelectAll:l,ClearIcon:i,debounceDuration:_,isCreatable:A,onCreateOption:F}=w(),b=G(),v=G(),[g,P]=R(""),[S,O]=R(o),[N,M]=R(""),[D,E]=R(0),H=Ze(fe(n=>M(n),_),[]),I=xe(()=>{let n=0;return p||(n+=1),l&&(n+=1),n},[p,l]),te={label:t(g?"selectAllFiltered":"selectAll"),value:""},B=n=>{let d=S.filter(C=>!C.disabled).map(C=>C.value);if(n){let Te=[...a.map(U=>U.value),...d];return(c?S:o).filter(U=>Te.includes(U.value))}return a.filter(C=>!d.includes(C.value))},f=n=>{let d=B(n);r(d)},L=n=>{H(n.target.value),P(n.target.value),E(0)},re=()=>{var n;M(""),P(""),(n=v==null?void 0:v.current)==null||n.focus()},oe=n=>E(n),Ie=n=>{switch(n.code){case u.ARROW_UP:se(-1);break;case u.ARROW_DOWN:se(1);break;default:return}n.stopPropagation(),n.preventDefault()};k([u.ARROW_DOWN,u.ARROW_UP],Ie,{target:b});let Ae=()=>{E(0)},ne=async()=>{let n={label:g,value:g,__isNew__:!0};F&&(n=await F(g)),m([n,...o]),re(),r([...a,n])},Pe=async()=>c?await c(o,N):he(o,N),se=n=>{let d=D+n;d=Math.max(0,d),d=Math.min(d,o.length+Math.max(I-1,0)),E(d)};z(()=>{f(e)},[]),z(()=>{var n,d;(d=(n=b==null?void 0:b.current)==null?void 0:n.querySelector(`[tabIndex='${D}']`))==null||d.focus()},[D]);let[Ne,Me]=xe(()=>{let n=S.filter(d=>!d.disabled);return[n.every(d=>a.findIndex(C=>C.value===d.value)!==-1),n.length!==0]},[S,a]);z(()=>{Pe().then(O)},[N,o]);let le=G();k([u.ENTER],ne,{target:le});let De=A&&g&&!S.some(n=>(n==null?void 0:n.value)===g);return x.createElement("div",{className:"select-panel",role:"listbox",ref:b},!p&&x.createElement("div",{className:"search"},x.createElement("input",{placeholder:t("search"),type:"text","aria-describedby":t("search"),onChange:L,onFocus:Ae,value:g,ref:v,tabIndex:0}),x.createElement("button",{type:"button",className:"search-clear-button",hidden:!g,onClick:re,"aria-label":t("clearSearch")},i||x.createElement(K,null))),x.createElement("ul",{className:"options"},l&&Me&&x.createElement(T,{tabIndex:I===1?0:1,checked:Ne,option:te,onSelectionChanged:f,onClick:()=>oe(1),itemRenderer:h,disabled:s}),S.length?x.createElement(ve,{skipIndex:I,options:S,onClick:(n,d)=>oe(d)}):De?x.createElement("li",{onClick:ne,className:"select-item creatable",tabIndex:I===1?0:1,ref:le},`${t("create")} "${g}"`):x.createElement("li",{className:"no-options"},t("noOptions"))))};ye.defaultProps={isSelectAll:!0};var J=ye;import Se from"react";var Ce=({expanded:e})=>Se.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},Se.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));import we from"react";var Oe=()=>{let{t:e,value:t,options:r,valueRenderer:o}=w(),m=t.length===0,a=t.length===r.length,c=o&&o(t,r);return m?we.createElement("span",{className:"gray"},c||e("selectSomeItems")):we.createElement("span",null,c||(a?e("allItemsAreSelected"):(()=>t.map(s=>s.label).join(", "))()))};import Q from"react";var ke=({size:e=24})=>Q.createElement("span",{style:{width:e,marginRight:"0.2rem"}},Q.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},Q.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var tt=()=>{let{t:e,onMenuToggle:t,ArrowRenderer:r,shouldToggleOnHover:o,isLoading:m,disabled:a,onChange:c,labelledBy:h,value:s,isOpen:p,defaultIsOpen:l,ClearSelectedIcon:i,closeOnChangedValue:_}=w();Ee(()=>{_&&v(!1)},[s]);let[A,F]=X(!0),[b,v]=X(l),[g,P]=X(!1),S=r||Ce,O=et();pe(()=>{t&&t(b)},[b]),Ee(()=>{l===void 0&&typeof p=="boolean"&&(F(!1),v(p))},[p]);let N=f=>{var L;["text","button"].includes(f.target.type)&&[u.SPACE,u.ENTER].includes(f.code)||(A&&(f.code===u.ESCAPE?(v(!1),(L=O==null?void 0:O.current)==null||L.focus()):v(!0)),f.preventDefault())};k([u.ENTER,u.ARROW_DOWN,u.SPACE,u.ESCAPE],N,{target:O});let M=f=>{},D=()=>!g&&P(!0),E=f=>{!f.currentTarget.contains(f.relatedTarget)&&A&&P(!1)},H=()=>M(!0),I=()=>M(!1),te=()=>{A&&v(m||a?!1:!b)},B=f=>{f.stopPropagation(),c([])};return y.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":h,"aria-expanded":b,"aria-readonly":!0,"aria-disabled":a,ref:O,onFocus:D,onBlur:E,onMouseEnter:H,onMouseLeave:I},y.createElement("div",{className:"dropdown-heading"},y.createElement("div",{className:"dropdown-heading-value"},y.createElement(Oe,null)),m&&y.createElement(ke,null),s.length>0&&i!==null&&y.createElement("button",{type:"button",className:"clear-selected-button",onClick:B,disabled:a,"aria-label":e("clearSelected")},i||y.createElement(K,null))),b&&y.createElement("div",{className:"dropdown-content"},y.createElement("div",{className:"panel-content"},y.createElement(J,null))))},Z=tt;var rt=e=>ee.createElement(me,{props:e},ee.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},ee.createElement(Z,null))),ot=rt;export{Z as Dropdown,ot as MultiSelect,T as SelectItem,J as SelectPanel};
