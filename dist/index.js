var Fe=Object.create;var W=Object.defineProperty,Le=Object.defineProperties,Ke=Object.getOwnPropertyDescriptor,We=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertyNames,de=Object.getOwnPropertySymbols,_e=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var me=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ee=(e,t)=>{for(var r in t||(t={}))pe.call(t,r)&&me(e,r,t[r]);if(de)for(var r of de(t))He.call(t,r)&&me(e,r,t[r]);return e},ue=(e,t)=>Le(e,We(t));var Be=(e,t)=>{for(var r in t)W(e,r,{get:t[r],enumerable:!0})},fe=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Re(t))!pe.call(e,l)&&l!==r&&W(e,l,{get:()=>t[l],enumerable:!(o=Ke(t,l))||o.enumerable});return e};var y=(e,t,r)=>(r=e!=null?Fe(_e(e)):{},fe(t||!e||!e.__esModule?W(r,"default",{value:e,enumerable:!0}):r,e)),Ue=e=>fe(W({},"__esModule",{value:!0}),e);var Qe={};Be(Qe,{Dropdown:()=>z,MultiSelect:()=>Ee,SelectItem:()=>M,SelectPanel:()=>Y});module.exports=Ue(Qe);function te(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}te(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #e9edf2;--rmsc-selected: #e2e6ea;--rmsc-over-hover: #d4d8dd;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px;height:100%;width:100%}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-container{display:flex;flex-direction:column;position:relative;height:100%;width:100%;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;flex:0 0 var(--rmsc-h);cursor:default;outline:0;border-bottom:1px solid var(--rmsc-border)}.rmsc .dropdown-content{flex:1 1 auto;display:flex;flex-direction:column;overflow:auto}.rmsc .dropdown-content .panel-content{height:100%;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);display:flex;flex-direction:column}.rmsc .dropdown-content .panel-content .select-panel{display:flex;flex-direction:column;height:100%}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{flex:1 1 auto;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline:0}.rmsc .select-item:hover,.rmsc .select-item:focus{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .select-item.selected:hover,.rmsc .select-item.selected:focus{background:var(--rmsc-over-hover)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;flex:0 0 39px;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var G=y(require("react"));var k=y(require("react")),Ve={allItemsAreSelected:"\uC804\uCCB4 \uC120\uD0DD\uB428",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"\uC120\uD0DD\uD560 \uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",search:"\uCC3E\uAE30",selectAll:"\uC804\uCCB4 \uC120\uD0DD",selectAllFiltered:"\uC804\uCCB4 \uC120\uD0DD (\uD544\uD130\uB9C1 \uC801\uC6A9)",selectSomeItems:"\uC120\uD0DD\uD558\uC138\uC694",create:"Create"},$e={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[],defaultIsOpen:!0},he=k.default.createContext({}),be=({props:e,children:t})=>{let[r,o]=(0,k.useState)(e.options),l=c=>{var p;return((p=e.overrideStrings)==null?void 0:p[c])||Ve[c]};return(0,k.useEffect)(()=>{o(e.options)},[e.options]),k.default.createElement(he.Provider,{value:ue(ee(ee({t:l},$e),e),{options:r,setOptions:o})},t)},E=()=>k.default.useContext(he);var m=y(require("react"));var U=require("react");function ge(e,t){let r=(0,U.useRef)(!1);(0,U.useEffect)(()=>{r.current?e():r.current=!0},t)}var C=require("react"),je={when:!0,eventTypes:["keydown"]};function A(e,t,r){let o=(0,C.useMemo)(()=>Array.isArray(e)?e:[e],[e]),l=Object.assign({},je,r),{when:c,eventTypes:p}=l,g=(0,C.useRef)(t),{target:a}=l;(0,C.useEffect)(()=>{g.current=t});let f=(0,C.useCallback)(i=>{o.some(d=>i.key===d||i.code===d)&&g.current(i)},[o]);(0,C.useEffect)(()=>{if(c&&typeof window<"u"){let i=a?a.current:window;return p.forEach(d=>{i&&i.addEventListener(d,f)}),()=>{p.forEach(d=>{i&&i.removeEventListener(d,f)})}}},[c,p,o,a,t])}var h={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var s=y(require("react"));var ve=(e,t)=>{let r;return function(...o){clearTimeout(r),r=setTimeout(()=>{e.apply(null,o)},t)}};function xe(e,t){return t?e.filter(({label:r,value:o})=>r!=null&&o!=null&&r.toLowerCase().includes(t.toLowerCase())):e}var V=y(require("react")),$=()=>V.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},V.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));var R=y(require("react"));var j=y(require("react")),Ye=({checked:e,option:t,onClick:r,disabled:o})=>j.default.createElement("div",{className:`item-renderer ${o&&"disabled"}`},j.default.createElement("input",{type:"checkbox",onChange:r,checked:e,tabIndex:-1,disabled:o}),j.default.createElement("span",null,t.label)),ye=Ye;var qe=({itemRenderer:e=ye,option:t,checked:r,tabIndex:o,disabled:l,onSelectionChanged:c,onClick:p})=>{let g=(0,R.useRef)(),a=d=>{f(),d.preventDefault()},f=()=>{l||c(!r)},i=d=>{f(),p(d)};return A([h.ENTER,h.SPACE],a,{target:g}),R.default.createElement("label",{className:`select-item ${r&&"selected"}`,role:"option","aria-selected":r,tabIndex:o,ref:g},R.default.createElement(e,{option:t,checked:r,onClick:i,disabled:l}))},M=qe;var _=y(require("react"));var ze=({options:e,onClick:t,skipIndex:r})=>{let{disabled:o,value:l,onChange:c,ItemRenderer:p}=E(),g=(a,f)=>{o||c(f?[...l,a]:l.filter(i=>i.value!==a.value))};return _.default.createElement(_.default.Fragment,null,e.map((a,f)=>{let i=f+r;return _.default.createElement("li",{key:(a==null?void 0:a.key)||f},_.default.createElement(M,{tabIndex:i,option:a,onSelectionChanged:d=>g(a,d),checked:!!l.find(d=>d.value===a.value),onClick:d=>t(d,i),itemRenderer:p,disabled:a.disabled||o}))}))},Se=ze;var Ce=({isSelectAll:e})=>{let{t,onChange:r,options:o,setOptions:l,value:c,filterOptions:p,ItemRenderer:g,disabled:a,disableSearch:f,hasSelectAll:i,ClearIcon:d,debounceDuration:J,isCreatable:D,onCreateOption:H}=E(),v=(0,s.useRef)(),S=(0,s.useRef)(),[x,T]=(0,s.useState)(""),[w,I]=(0,s.useState)(o),[F,L]=(0,s.useState)(""),[K,P]=(0,s.useState)(0),Q=(0,s.useCallback)(ve(n=>L(n),J),[]),N=(0,s.useMemo)(()=>{let n=0;return f||(n+=1),i&&(n+=1),n},[f,i]),ne={label:t(x?"selectAllFiltered":"selectAll"),value:""},X=n=>{let u=w.filter(O=>!O.disabled).map(O=>O.value);if(n){let Te=[...c.map(Z=>Z.value),...u];return(p?w:o).filter(Z=>Te.includes(Z.value))}return c.filter(O=>!u.includes(O.value))},b=n=>{let u=X(n);r(u)},B=n=>{Q(n.target.value),T(n.target.value),P(0)},se=()=>{var n;L(""),T(""),(n=S==null?void 0:S.current)==null||n.focus()},le=n=>P(n),Ie=n=>{switch(n.code){case h.ARROW_UP:ie(-1);break;case h.ARROW_DOWN:ie(1);break;default:return}n.stopPropagation(),n.preventDefault()};A([h.ARROW_DOWN,h.ARROW_UP],Ie,{target:v});let Ae=()=>{P(0)},ae=async()=>{let n={label:x,value:x,__isNew__:!0};H&&(n=await H(x)),l([n,...o]),se(),r([...c,n])},Pe=async()=>p?await p(o,F):xe(o,F),ie=n=>{let u=K+n;u=Math.max(0,u),u=Math.min(u,o.length+Math.max(N-1,0)),P(u)};(0,s.useEffect)(()=>{b(e)},[]),(0,s.useEffect)(()=>{var n,u;(u=(n=v==null?void 0:v.current)==null?void 0:n.querySelector(`[tabIndex='${K}']`))==null||u.focus()},[K]);let[Ne,Me]=(0,s.useMemo)(()=>{let n=w.filter(u=>!u.disabled);return[n.every(u=>c.findIndex(O=>O.value===u.value)!==-1),n.length!==0]},[w,c]);(0,s.useEffect)(()=>{Pe().then(I)},[F,o]);let ce=(0,s.useRef)();A([h.ENTER],ae,{target:ce});let De=D&&x&&!w.some(n=>(n==null?void 0:n.value)===x);return s.default.createElement("div",{className:"select-panel",role:"listbox",ref:v},!f&&s.default.createElement("div",{className:"search"},s.default.createElement("input",{placeholder:t("search"),type:"text","aria-describedby":t("search"),onChange:B,onFocus:Ae,value:x,ref:S,tabIndex:0}),s.default.createElement("button",{type:"button",className:"search-clear-button",hidden:!x,onClick:se,"aria-label":t("clearSearch")},d||s.default.createElement($,null))),s.default.createElement("ul",{className:"options"},i&&Me&&s.default.createElement(M,{tabIndex:N===1?0:1,checked:Ne,option:ne,onSelectionChanged:b,onClick:()=>le(1),itemRenderer:g,disabled:a}),w.length?s.default.createElement(Se,{skipIndex:N,options:w,onClick:(n,u)=>le(u)}):De?s.default.createElement("li",{onClick:ae,className:"select-item creatable",tabIndex:N===1?0:1,ref:ce},`${t("create")} "${x}"`):s.default.createElement("li",{className:"no-options"},t("noOptions"))))};Ce.defaultProps={isSelectAll:!0};var Y=Ce;var re=y(require("react")),we=({expanded:e})=>re.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},re.default.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));var oe=y(require("react"));var Oe=()=>{let{t:e,value:t,options:r,valueRenderer:o}=E(),l=t.length===0,c=t.length===r.length,p=o&&o(t,r);return l?oe.default.createElement("span",{className:"gray"},p||e("selectSomeItems")):oe.default.createElement("span",null,p||(c?e("allItemsAreSelected"):(()=>t.map(a=>a.label).join(", "))()))};var q=y(require("react")),ke=({size:e=24})=>q.default.createElement("span",{style:{width:e,marginRight:"0.2rem"}},q.default.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},q.default.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var Ge=()=>{let{t:e,onMenuToggle:t,ArrowRenderer:r,shouldToggleOnHover:o,isLoading:l,disabled:c,onChange:p,labelledBy:g,value:a,isOpen:f,defaultIsOpen:i,ClearSelectedIcon:d,closeOnChangedValue:J}=E();(0,m.useEffect)(()=>{J&&S(!1)},[a]);let[D,H]=(0,m.useState)(!0),[v,S]=(0,m.useState)(i),[x,T]=(0,m.useState)(!1),w=r||we,I=(0,m.useRef)();ge(()=>{t&&t(v)},[v]),(0,m.useEffect)(()=>{i===void 0&&typeof f=="boolean"&&(H(!1),S(f))},[f]);let F=b=>{var B;["text","button"].includes(b.target.type)&&[h.SPACE,h.ENTER].includes(b.code)||(D&&(b.code===h.ESCAPE?(S(!1),(B=I==null?void 0:I.current)==null||B.focus()):S(!0)),b.preventDefault())};A([h.ENTER,h.ARROW_DOWN,h.SPACE,h.ESCAPE],F,{target:I});let L=b=>{},K=()=>!x&&T(!0),P=b=>{!b.currentTarget.contains(b.relatedTarget)&&D&&T(!1)},Q=()=>L(!0),N=()=>L(!1),ne=()=>{D&&S(l||c?!1:!v)},X=b=>{b.stopPropagation(),p([])};return m.default.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":g,"aria-expanded":v,"aria-readonly":!0,"aria-disabled":c,ref:I,onFocus:K,onBlur:P,onMouseEnter:Q,onMouseLeave:N},m.default.createElement("div",{className:"dropdown-heading"},m.default.createElement("div",{className:"dropdown-heading-value"},m.default.createElement(Oe,null)),l&&m.default.createElement(ke,null),a.length>0&&d!==null&&m.default.createElement("button",{type:"button",className:"clear-selected-button",onClick:X,disabled:c,"aria-label":e("clearSelected")},d||m.default.createElement($,null))),v&&m.default.createElement("div",{className:"dropdown-content"},m.default.createElement("div",{className:"panel-content"},m.default.createElement(Y,null))))},z=Ge;var Je=e=>G.default.createElement(be,{props:e},G.default.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},G.default.createElement(z,null))),Ee=Je;0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
